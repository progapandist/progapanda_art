<% content_for :body_class, "grid-page" %>

<nav class="grid-nav">
  <a href="<%= @return_path %>">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <polyline points="15 18 9 12 15 6"/>
    </svg>
    Gallery
  </a>
  <span class="sep">/</span>
  <span>All works (<%= @works.count %>)</span>
</nav>

<div class="works-grid">
  <% @works.each do |work| %>
    <% thumb_width, thumb_height = thumbnail_dimensions(work) %>
    <a href="<%= work_path(work.slug) %>" class="work-tile">
      <img
        src="<%= thumbnail_url(work) %>"
        alt="<%= work.title %>"
        loading="lazy"
        width="<%= thumb_width %>"
        height="<%= thumb_height %>"
      />
      <div class="work-tile-info">
        <span class="work-tile-title"><%= work.title %></span>
        <span class="work-tile-meta"><%= work.location %><%= ", #{work.year}" if work.year.present? %></span>
      </div>
    </a>
  <% end %>
</div>
